<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <ul class="nav navbar-nav navbar-right">
        <li class="nav nav-pills"><a href="<%= root_url %>">Home</a></li>
        
        <% if guest? %>
          <li class="dropdown nav nav-pills">
            <button class="dropdown-toggle" type="button" id="signedInDropdown" data-toggle="dropdown">
              Signed in as: Guest
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu nav-pills nav-stacked" role="menu">
              <li><%= link_to "Sign Up", edit_user_url(current_user) %></li>
              <li><%= link_to "Sign Out", session_url, :method => :delete %></li>
            </ul>
          </li><%# /guest %>
        <% elsif logged_in? %>
          <li class="dropdown nav nav-pills">
            <button class="dropdown-toggle" type="button" id="signedInDropdown" data-toggle="dropdown">
              Signed in as: <%= current_user.username %>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu nav-pills nav-stacked" role="menu">
              <li><%= link_to "Profile", user_url(current_user) %></li>
              <li><%= link_to "Sign Out", session_url, :method => :delete %></li>
            </ul>
          </li><%# /logged_in %>
        <% else %>
          <li class="nav nav-pills"><a href="<%= new_session_url %>">Sign In</a></li>
          <li class="nav nav-pills"><%= link_to "Sign In as Guest", users_url, method: :post %><%# /neither guest nor logged in %>
        <% end %>
                
        <li class="nav nav-pills"><a href="<%= pages_contact_url %>">Contact</a></li>
        <li class="nav nav-pills"><a href="<%= pages_about_url %>">About</a></li>
        
        <% if logged_in? %>
          <li class="nav nav-pills"><%= button_to "Upload", new_user_image_url(current_user), method: :get, class: "btn btn-primary" %>
        <% end %>
        
      </ul>
    </div>
  </div>
</nav>